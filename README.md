# **ИдёмВКино — Система бронирования билетов в кинотеатр cinemabooking.ru**

## **Описание проекта**
Система бронирования билетов в кинотеатр с клиентской и администраторской частями. Пользователи могут выбирать фильмы, сеансы, места в зале, получать электронные билеты и QR-коды для показа контроллеру. Администраторы управляют залами, фильмами, сеансами и ценами.

---

## **Структура проекта**

### **Клиентская часть**
#### Файлы представлений:
1. **`views/clients/index.blade.php`**  
   Главный интерфейс клиента для выбора фильмов и сеансов.
2. **`views/clients/select_seat.blade.php`**  
   Интерфейс для выбора мест в зале.
3. **`views/clients/payments/show.blade.php`**  
   Подтверждение бронирования
4. **`views/tickets/show.blade.php`**  
   Электронный билет на сеанс с QR-кодом.

#### Основной функционал:
- Выбор фильма и сеанса.
- Выбор доступных мест.
- Подтверждение бронирования.
- Получение электронного билета.

---

### **Администраторская часть**
#### Файлы представлений:
1. **`views/admin/index.blade.php`**  
   Главная страница админки для управления залами, фильмами, сеансами и ценами.
2. **`views/admin/login.blade.php`**  
   Форма входа для администраторов.
3. **Модальные окна**:
   - **`create_hall_modal.blade.php`**: Создание нового зала.
   - **`create_movie_modal.blade.php`**: Добавление нового фильма.
   - **`edit_movie_modal.blade.php`**: Редактирование существующего фильма.

#### Основной функционал:
- Управление залами: создание, редактирование, удаление.
- Настройка конфигурации залов (ряды, типы мест).
- Управление фильмами: добавление, редактирование, удаление.
- Настройка сеансов через перетаскивание на таймлайн.
- Конфигурация цен для разных типов мест.
- Переключение статуса продаж билетов.

---

## **Технические требования**
- PHP >= 8.0
- Laravel Framework
- SQLite
- Composer
- QR-коды: Генерация через библиотеку `phpqrcode`.

---

## **Основные маршруты**

### **Клиентская часть**
- `/clients/index`: Главная страница с выбором фильмов и сеансов.
- `/clients/select_seat/{seance_id}`: Выбор мест в зале.
- `/clients/payments/show/{payment}`: Подтверждение бронирования.
- `/tickets/show`: Электронный билет.

### **Администраторская часть**
- `/admin/login`: Вход для администраторов.
- `/admin/index`: Главная страница админки.
- `/admin/halls/*`: Управление залами.
- `/admin/movies/*`: Управление фильмами.
- `/admin/seances/*`: Настройка сеансов.
- `/admin/toggle-sales`: Переключение статуса продаж билетов.
- `/admin/logout`: Выход из админки.

---

## **Основные компоненты**

### **Контроллеры**
1. **`AdminController`**  
   - Аутентификация администраторов.
   - Управление залами, фильмами, сеансами и ценами.
2. **`ClientController`**  
   - Отображение списка сеансов.
   - Выбор мест и подтверждение бронирования.
3. **`PaymentController`**  
   - Создание платежей и билетов.
   - Генерация QR-кодов.
4. **`TicketController`**  
   - Отображение электронного билета

### **Модели**
1. **`Hall`**  
   Хранит информацию о залах.
2. **`Movie`**  
   Хранит данные о фильмах.
3. **`SeancesMovie`**  
   Хранит информацию о сеансах.
4. **`Ticket`**  
   Хранит данные о билетах и их статусах.
5. **`Payment`**  
   Хранит информацию о платежах.
6. **`HallPricing`**  
   Хранит информацию о ценах.
7. **`HallConfiguration`**
    Хранит информацию о конфигурации зала.

---

## **JavaScript-функционал**

### **Администраторская часть**
1. **`hall_config.js`**  
   - Управление конфигурацией залов (количество рядов, типы мест).
2. **`hall_pricing.js`**  
   - Управление ценами на места.
3. **`seances.js`**  
   - Настройка сеансов через перетаскивание фильмов на таймлайн.
4. **`toggleSales.js`**  
   - Переключение статуса продаж билетов.
5. **`admin.js`**  
   - обеспечивает функциональность для админки
6. **`hall.js`**  
   - Создание, удаление зала.
7. **`movies`**  
   - Создание, редактирование, удаление фильмов.

---

### **Клиентская часть**
1. **`seat-selection.js`**  
   - Выбор мест в зале.

---

## **Пример использования**

### **Клиентская часть**
1. Пользователь выбирает фильм и сеанс на главной странице (`/clients/index`).
2. Переходит на страницу выбора мест (`/clients/select_seat/{seance_id}`).
3. После выбора мест, система бронирует места (`/clients/payments/show/{payment}`).
4. После оплаты, пользователь получает электронный билет (`/tickets/show`).

### **Администраторская часть**
1. Администратор заходит в систему (`/admin/login`).
2. Создает новый зал, настраивает его конфигурацию и цены.
3. Добавляет фильмы и планирует сеансы через таймлайн.
4. Открывает или приостанавливает продажу билетов.
5. Выходит из админки

---

## **Автор**
- **[Каяткин Виктор]**  
  Разработчик проекта.

--- 
